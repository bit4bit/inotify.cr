{"repository_name":"github.com/petoem/inotify.cr","body":"# inotify\n\nInotify bindings for [Crystal language](https://github.com/crystal-lang/crystal).\n\n[![GitHub release](https://img.shields.io/github/release/petoem/inotify.cr.svg?style=flat-square)](https://github.com/petoem/inotify.cr/releases)\n[![Travis](https://img.shields.io/travis/petoem/inotify.cr.svg?style=flat-square)](https://travis-ci.org/petoem/inotify.cr)\n[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](https://github.com/petoem/inotify.cr/blob/master/LICENSE)\n\n## Installation\n\nAdd this to your application's `shard.yml`:\n\n```yaml\ndependencies:\n  inotify:\n    github: petoem/inotify.cr\n    version: 1.0.1\n```\n\n## Usage\n\n```crystal\nrequire \"inotify\"\n\n# To watch a file or directory ...\nwatcher = Inotify.watch \"/path/to/file.txt\" do |event|\n  # your awesome logic\nend\n\n# ... for 10 seconds.\nsleep 10.seconds\nwatcher.close\n```\n*Note: You have to run something in the main fiber or else your program will exit.* \n\nMore documentation can be found [here](https://petoem.github.io/inotify.cr/).\n\n## Development\n\nTo enable logging to `STDOUT` set `INOTIFY_LOG_LEVEL` environment variable to `DEBUG`.\n\n## Contributing\n\n1. [Fork it!](https://github.com/petoem/inotify.cr/fork)\n2. Create your feature branch (git checkout -b my-new-feature)\n3. Commit your changes (git commit -am 'Add some feature')\n4. Push to the branch (git push origin my-new-feature)\n5. Create a new Pull Request\n\n## Contributors\n\n- [petoem](https://github.com/petoem) Michael PetÃ¶ - creator, maintainer\n","program":{"html_id":"github.com/petoem/inotify.cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/petoem/inotify.cr","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/petoem/inotify.cr/Inotify","path":"Inotify.html","kind":"module","full_name":"Inotify","name":"Inotify","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"inotify/version.cr","line_number":1,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/version.cr"},{"filename":"inotify/settings.cr","line_number":3,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/settings.cr"},{"filename":"inotify/event.cr","line_number":1,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr"},{"filename":"inotify/watcher.cr","line_number":1,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr"},{"filename":"inotify.cr","line_number":10,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify.cr"}],"repository_name":"github.com/petoem/inotify.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"DEFAULT_WATCH_FLAG","name":"DEFAULT_WATCH_FLAG","value":"((((LibInotify::IN_MOVE | LibInotify::IN_MOVE_SELF) | LibInotify::IN_MODIFY) | LibInotify::IN_CREATE) | LibInotify::IN_DELETE) | LibInotify::IN_DELETE_SELF","doc":null,"summary":null},{"id":"LOG","name":"LOG","value":"Logger.new(STDOUT)","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/travis/build/petoem/inotify.cr/src/inotify`).chomp.stringify }}","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"watch(path:String,recursive:Bool=false,&block:Inotify::Event->):Inotify::Watcher-class-method","html_id":"watch(path:String,recursive:Bool=false,&amp;block:Inotify::Event-&gt;):Inotify::Watcher-class-method","name":"watch","doc":"All-in-one method to create inotify instance to watch one path.","summary":"<p>All-in-one method to create inotify instance to watch one path.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"args_string":"(path : String, recursive : Bool = <span class=\"n\">false</span>, &block : Inotify::Event -> ) : Inotify::Watcher","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify.cr#L17","def":{"name":"watch","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Inotify::Event -> )"},"return_type":"Inotify::Watcher","visibility":"Public","body":"inotify = Inotify.watcher(recursive)\ninotify.on_event(&block)\ninotify.watch(path)\ninotify\n"}},{"id":"watcher(recursive:Bool=false):Inotify::Watcher-class-method","html_id":"watcher(recursive:Bool=false):Inotify::Watcher-class-method","name":"watcher","doc":"Same as `Inotify::Watcher.new`.","summary":"<p>Same as <code>Inotify::Watcher.new</code>.</p>","abstract":false,"args":[{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"args_string":"(recursive : Bool = <span class=\"n\">false</span>) : Inotify::Watcher","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify.cr#L12","def":{"name":"watcher","args":[{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Inotify::Watcher","visibility":"Public","body":"Watcher.new(recursive)"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"github.com/petoem/inotify.cr/Inotify/Event","path":"Inotify/Event.html","kind":"struct","full_name":"Inotify::Event","name":"Event","abstract":false,"superclass":{"html_id":"github.com/petoem/inotify.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"github.com/petoem/inotify.cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"github.com/petoem/inotify.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/petoem/inotify.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"inotify/event.cr","line_number":3,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr"}],"repository_name":"github.com/petoem/inotify.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/petoem/inotify.cr/Inotify","kind":"module","full_name":"Inotify","name":"Inotify"},"doc":"Represents an `inotify_event` structure.","summary":"<p>Represents an <code>inotify_event</code> structure.</p>","class_methods":[],"constructors":[{"id":"new(name:String?,path:String?,mask:UInt32,cookie:UInt32,wd:Int32)-class-method","html_id":"new(name:String?,path:String?,mask:UInt32,cookie:UInt32,wd:Int32)-class-method","name":"new","doc":"Creates a new event.","summary":"<p>Creates a new event.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String | ::Nil"},{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"},{"name":"cookie","doc":null,"default_value":"","external_name":"cookie","restriction":"UInt32"},{"name":"wd","doc":null,"default_value":"","external_name":"wd","restriction":"Int32"}],"args_string":"(name : String?, path : String?, mask : UInt32, cookie : UInt32, wd : Int32)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L29","def":{"name":"new","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"},{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String | ::Nil"},{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"},{"name":"cookie","doc":null,"default_value":"","external_name":"cookie","restriction":"UInt32"},{"name":"wd","doc":null,"default_value":"","external_name":"wd","restriction":"Int32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(name, path, mask, cookie, wd)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"cookie:UInt32-instance-method","html_id":"cookie:UInt32-instance-method","name":"cookie","doc":"Is a unique integer that connects related events.","summary":"<p>Is a unique integer that connects related events.</p>","abstract":false,"args":[],"args_string":" : UInt32","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L13","def":{"name":"cookie","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt32","visibility":"Public","body":"@cookie"}},{"id":"cookie=(cookie:UInt32)-instance-method","html_id":"cookie=(cookie:UInt32)-instance-method","name":"cookie=","doc":"Is a unique integer that connects related events.","summary":"<p>Is a unique integer that connects related events.</p>","abstract":false,"args":[{"name":"cookie","doc":null,"default_value":"","external_name":"cookie","restriction":"UInt32"}],"args_string":"(cookie : UInt32)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L17","def":{"name":"cookie=","args":[{"name":"cookie","doc":null,"default_value":"","external_name":"cookie","restriction":"UInt32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@cookie = cookie"}},{"id":"directory?-instance-method","html_id":"directory?-instance-method","name":"directory?","doc":"Returns if the event occurred against a directory.","summary":"<p>Returns if the event occurred against a directory.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L18","def":{"name":"directory?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"type_is?(LibInotify::IN_ISDIR)"}},{"id":"mask:UInt32-instance-method","html_id":"mask:UInt32-instance-method","name":"mask","doc":"Contains bits that describe the event that occurred.","summary":"<p>Contains bits that describe the event that occurred.</p>","abstract":false,"args":[],"args_string":" : UInt32","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L11","def":{"name":"mask","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"UInt32","visibility":"Public","body":"@mask"}},{"id":"mask=(mask:UInt32)-instance-method","html_id":"mask=(mask:UInt32)-instance-method","name":"mask=","doc":"Contains bits that describe the event that occurred.","summary":"<p>Contains bits that describe the event that occurred.</p>","abstract":false,"args":[{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"}],"args_string":"(mask : UInt32)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L15","def":{"name":"mask=","args":[{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@mask = mask"}},{"id":"name:String?-instance-method","html_id":"name:String?-instance-method","name":"name","doc":"Name of the file or directory that triggered the event. Always `nil` if `#wd` is associated with a file.","summary":"<p>Name of the file or directory that triggered the event.</p>","abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L7","def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@name"}},{"id":"name=(name:String?)-instance-method","html_id":"name=(name:String?)-instance-method","name":"name=","doc":"Name of the file or directory that triggered the event. Always `nil` if `#wd` is associated with a file.","summary":"<p>Name of the file or directory that triggered the event.</p>","abstract":false,"args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(name : String?)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L11","def":{"name":"name=","args":[{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@name = name"}},{"id":"path:String?-instance-method","html_id":"path:String?-instance-method","name":"path","doc":"Watched *path* this event occurred against, may be `nil` if we don't have the associated `WatchInfo`.","summary":"<p>Watched <em>path</em> this event occurred against, may be <code>nil</code> if we don't have the associated <code>WatchInfo</code>.</p>","abstract":false,"args":[],"args_string":" : String?","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L9","def":{"name":"path","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String | ::Nil","visibility":"Public","body":"@path"}},{"id":"path=(path:String?)-instance-method","html_id":"path=(path:String?)-instance-method","name":"path=","doc":"Watched *path* this event occurred against, may be `nil` if we don't have the associated `WatchInfo`.","summary":"<p>Watched <em>path</em> this event occurred against, may be <code>nil</code> if we don't have the associated <code>WatchInfo</code>.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String | ::Nil"}],"args_string":"(path : String?)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L13","def":{"name":"path=","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@path = path"}},{"id":"type:Type-instance-method","html_id":"type:Type-instance-method","name":"type","doc":"`Type` of the event.","summary":"<p><code><a href=\"../Inotify/Event/Type.html\">Type</a></code> of the event.</p>","abstract":false,"args":[],"args_string":" : Type","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L17","def":{"name":"type","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Type","visibility":"Public","body":"@type"}},{"id":"type_is?(bits)-instance-method","html_id":"type_is?(bits)-instance-method","name":"type_is?","doc":"Returns whether the *bits* are set in `#mask`. Can be used with constants in `LibInotify`.\nUseful when `#type` is `UNKNOWN`.","summary":"<p>Returns whether the <em>bits</em> are set in <code><a href=\"../Inotify/Event.html#mask:UInt32-instance-method\">#mask</a></code>.</p>","abstract":false,"args":[{"name":"bits","doc":null,"default_value":"","external_name":"bits","restriction":""}],"args_string":"(bits)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L24","def":{"name":"type_is?","args":[{"name":"bits","doc":null,"default_value":"","external_name":"bits","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(bits & @mask) != 0"}},{"id":"wd:Int32-instance-method","html_id":"wd:Int32-instance-method","name":"wd","doc":"Watch descriptor *wd* identifies the watch for which this event occurred.","summary":"<p>Watch descriptor <em>wd</em> identifies the watch for which this event occurred.</p>","abstract":false,"args":[],"args_string":" : Int32","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L15","def":{"name":"wd","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32","visibility":"Public","body":"@wd"}}],"macros":[],"types":[{"html_id":"github.com/petoem/inotify.cr/Inotify/Event/Type","path":"Inotify/Event/Type.html","kind":"enum","full_name":"Inotify::Event::Type","name":"Type","abstract":false,"superclass":null,"ancestors":[{"html_id":"github.com/petoem/inotify.cr/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"github.com/petoem/inotify.cr/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/petoem/inotify.cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/petoem/inotify.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"inotify/event.cr","line_number":34,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr"}],"repository_name":"github.com/petoem/inotify.cr","program":false,"enum":true,"alias":false,"aliased":"","const":false,"constants":[{"id":"UNKNOWN","name":"UNKNOWN","value":"0","doc":null,"summary":null},{"id":"ACCESS","name":"ACCESS","value":"1","doc":null,"summary":null},{"id":"MODIFY","name":"MODIFY","value":"2","doc":null,"summary":null},{"id":"ATTRIB","name":"ATTRIB","value":"4","doc":null,"summary":null},{"id":"CLOSE_WRITE","name":"CLOSE_WRITE","value":"8","doc":null,"summary":null},{"id":"CLOSE_NOWRITE","name":"CLOSE_NOWRITE","value":"16","doc":null,"summary":null},{"id":"OPEN","name":"OPEN","value":"32","doc":null,"summary":null},{"id":"MOVED_FROM","name":"MOVED_FROM","value":"64","doc":null,"summary":null},{"id":"MOVED_TO","name":"MOVED_TO","value":"128","doc":null,"summary":null},{"id":"CREATE","name":"CREATE","value":"256","doc":null,"summary":null},{"id":"DELETE","name":"DELETE","value":"512","doc":null,"summary":null},{"id":"DELETE_SELF","name":"DELETE_SELF","value":"1024","doc":null,"summary":null},{"id":"MOVE_SELF","name":"MOVE_SELF","value":"2048","doc":null,"summary":null},{"id":"CLOSE","name":"CLOSE","value":"24","doc":null,"summary":null},{"id":"MOVE","name":"MOVE","value":"192","doc":null,"summary":null},{"id":"UNMOUNT","name":"UNMOUNT","value":"8192","doc":null,"summary":null},{"id":"Q_OVERFLOW","name":"Q_OVERFLOW","value":"16384","doc":null,"summary":null},{"id":"IGNORED","name":"IGNORED","value":"32768","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/petoem/inotify.cr/Inotify/Event","kind":"struct","full_name":"Inotify::Event","name":"Event"},"doc":"Event types corresponding to the ones in `LibInotify`.","summary":"<p>Event types corresponding to the ones in <code>LibInotify</code>.</p>","class_methods":[],"constructors":[{"id":"parse(mask:UInt32):self-class-method","html_id":"parse(mask:UInt32):self-class-method","name":"parse","doc":"Parses the given *mask* and returns the event type or `UNKNOWN`.","summary":"<p>Parses the given <em>mask</em> and returns the event type or <code><a href=\"../../Inotify/Event/Type.html#UNKNOWN\">UNKNOWN</a></code>.</p>","abstract":false,"args":[{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"}],"args_string":"(mask : UInt32) : <span class=\"k\">self</span>","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L55","def":{"name":"parse","args":[{"name":"mask","doc":null,"default_value":"","external_name":"mask","restriction":"UInt32"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"self","visibility":"Public","body":"Type.each do |member, bits|\n  if (bits & mask) != 0\n    return member\n  end\nend\nType::UNKNOWN\n"}}],"instance_methods":[{"id":"access?-instance-method","html_id":"access?-instance-method","name":"access?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L36","def":{"name":"access?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == ACCESS"}},{"id":"attrib?-instance-method","html_id":"attrib?-instance-method","name":"attrib?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L38","def":{"name":"attrib?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == ATTRIB"}},{"id":"close?-instance-method","html_id":"close?-instance-method","name":"close?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L48","def":{"name":"close?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CLOSE"}},{"id":"close_nowrite?-instance-method","html_id":"close_nowrite?-instance-method","name":"close_nowrite?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L40","def":{"name":"close_nowrite?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CLOSE_NOWRITE"}},{"id":"close_write?-instance-method","html_id":"close_write?-instance-method","name":"close_write?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L39","def":{"name":"close_write?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CLOSE_WRITE"}},{"id":"create?-instance-method","html_id":"create?-instance-method","name":"create?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L44","def":{"name":"create?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == CREATE"}},{"id":"delete?-instance-method","html_id":"delete?-instance-method","name":"delete?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L45","def":{"name":"delete?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DELETE"}},{"id":"delete_self?-instance-method","html_id":"delete_self?-instance-method","name":"delete_self?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L46","def":{"name":"delete_self?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == DELETE_SELF"}},{"id":"ignored?-instance-method","html_id":"ignored?-instance-method","name":"ignored?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L52","def":{"name":"ignored?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == IGNORED"}},{"id":"modify?-instance-method","html_id":"modify?-instance-method","name":"modify?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L37","def":{"name":"modify?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MODIFY"}},{"id":"move?-instance-method","html_id":"move?-instance-method","name":"move?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L49","def":{"name":"move?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MOVE"}},{"id":"move_self?-instance-method","html_id":"move_self?-instance-method","name":"move_self?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L47","def":{"name":"move_self?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MOVE_SELF"}},{"id":"moved_from?-instance-method","html_id":"moved_from?-instance-method","name":"moved_from?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L42","def":{"name":"moved_from?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MOVED_FROM"}},{"id":"moved_to?-instance-method","html_id":"moved_to?-instance-method","name":"moved_to?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L43","def":{"name":"moved_to?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == MOVED_TO"}},{"id":"open?-instance-method","html_id":"open?-instance-method","name":"open?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L41","def":{"name":"open?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == OPEN"}},{"id":"q_overflow?-instance-method","html_id":"q_overflow?-instance-method","name":"q_overflow?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L51","def":{"name":"q_overflow?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == Q_OVERFLOW"}},{"id":"unknown?-instance-method","html_id":"unknown?-instance-method","name":"unknown?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L35","def":{"name":"unknown?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == UNKNOWN"}},{"id":"unmount?-instance-method","html_id":"unmount?-instance-method","name":"unmount?","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/event.cr#L50","def":{"name":"unmount?","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"self == UNMOUNT"}}],"macros":[],"types":[]}]},{"html_id":"github.com/petoem/inotify.cr/Inotify/Watcher","path":"Inotify/Watcher.html","kind":"class","full_name":"Inotify::Watcher","name":"Watcher","abstract":false,"superclass":{"html_id":"github.com/petoem/inotify.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"github.com/petoem/inotify.cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"github.com/petoem/inotify.cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"inotify/watcher.cr","line_number":18,"url":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr"}],"repository_name":"github.com/petoem/inotify.cr","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"github.com/petoem/inotify.cr/Inotify","kind":"module","full_name":"Inotify","name":"Inotify"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(recursive:Bool=false)-class-method","html_id":"new(recursive:Bool=false)-class-method","name":"new","doc":"Creates a new inotify instance and starts reading from the event queue.\nOptional: Set *recursive* to `true` to automatically watch all new subdirectories.","summary":"<p>Creates a new inotify instance and starts reading from the event queue.</p>","abstract":false,"args":[{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"args_string":"(recursive : Bool = <span class=\"n\">false</span>)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L25","def":{"name":"new","args":[{"name":"recursive","doc":null,"default_value":"false","external_name":"recursive","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(recursive)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"clear_event_handlers-instance-method","html_id":"clear_event_handlers-instance-method","name":"clear_event_handlers","doc":"Removes all event handlers added with `#on_event`.","summary":"<p>Removes all event handlers added with <code><a href=\"../Inotify/Watcher.html#on_event(&block:Event-%3E)-instance-method\">#on_event</a></code>.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L105","def":{"name":"clear_event_handlers","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@event_callbacks.clear\nnil\n"}},{"id":"close-instance-method","html_id":"close-instance-method","name":"close","doc":"Closes file descriptor referring to the inotify instance.","summary":"<p>Closes file descriptor referring to the inotify instance.</p>","abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L158","def":{"name":"close","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@enabled = false\n@io.close\nLOG.debug(\"file descriptor referring to inotify instance closed\")\n"}},{"id":"finalize-instance-method","html_id":"finalize-instance-method","name":"finalize","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L164","def":{"name":"finalize","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"close"}},{"id":"on_event(&block:Event->)-instance-method","html_id":"on_event(&amp;block:Event-&gt;)-instance-method","name":"on_event","doc":"Attach a `&block` to the instance, this will receive all events.","summary":"<p>Attach a <code>&block</code> to the instance, this will receive all events.</p>","abstract":false,"args":[],"args_string":"(&block : Event -> )","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L99","def":{"name":"on_event","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Event -> )"},"return_type":"","visibility":"Public","body":"@event_callbacks.push(block)\nnil\n"}},{"id":"unwatch(path:String)-instance-method","html_id":"unwatch(path:String)-instance-method","name":"unwatch","doc":"Removes an item from an inotify watch list based on its *path*. Returns `true` on success.\nNOTE: *path* is case sensitive and has to be an exact match, to what was passed into `#watch`.","summary":"<p>Removes an item from an inotify watch list based on its <em>path</em>.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"args_string":"(path : String)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L129","def":{"name":"unwatch","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@watch_list.each_value do |info|\n  if info.path == path\n    return unwatch(info.wd)\n  end\nend\nfalse\n"}},{"id":"unwatch(wd:LibC::Int)-instance-method","html_id":"unwatch(wd:LibC::Int)-instance-method","name":"unwatch","doc":"Removes an item from an inotify watch list based on its watch descriptor *wd*.\nReturns `true` on success, otherwise raises.","summary":"<p>Removes an item from an inotify watch list based on its watch descriptor <em>wd</em>.</p>","abstract":false,"args":[{"name":"wd","doc":null,"default_value":"","external_name":"wd","restriction":"LibC::Int"}],"args_string":"(wd : LibC::Int)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L138","def":{"name":"unwatch","args":[{"name":"wd","doc":null,"default_value":"","external_name":"wd","restriction":"LibC::Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"status = LibInotify.rm_watch(@io.fd, wd)\nif status == -1\n  case Errno.value\n  when Errno::EBADF\n    raise(IO::Error.new(\"fd is not a valid file descriptor\"))\n  when Errno::EINVAL\n    raise(Errno.new(\"The watch descriptor wd is not valid; or fd is not an inotify file descriptor\"))\n  else\n    raise(Errno.new(\"inotify rm_watch failed\"))\n  end\nend\nLOG.debug(\"inotify rm_watch #{wd}\")\ntrue\n"}},{"id":"watch(path:String,mask=DEFAULT_WATCH_FLAG)-instance-method","html_id":"watch(path:String,mask=DEFAULT_WATCH_FLAG)-instance-method","name":"watch","doc":"Adds a new watch, or modifies an existing watch, for the *path* specified.\nOptional: The events to be monitored can be specified in the *mask* bit-mask argument.","summary":"<p>Adds a new watch, or modifies an existing watch, for the <em>path</em> specified.</p>","abstract":false,"args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"mask","doc":null,"default_value":"DEFAULT_WATCH_FLAG","external_name":"mask","restriction":""}],"args_string":"(path : String, mask = <span class=\"t\">DEFAULT_WATCH_FLAG</span>)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L112","def":{"name":"watch","args":[{"name":"path","doc":null,"default_value":"","external_name":"path","restriction":"String"},{"name":"mask","doc":null,"default_value":"DEFAULT_WATCH_FLAG","external_name":"mask","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"wd = LibInotify.add_watch(@io.fd, path, mask)\nif wd == -1\n  raise(Errno.new(\"inotify add_watch failed\"))\nend\nLOG.debug(\"inotify add_watch #{wd} #{path}\")\nif is_dir = File.directory?(path)\n  @watch_list[wd] = WatchInfo.new(wd, path, is_dir, mask)\n  if (Dir.empty?(path)) || (!@recursive)\n  else\n    Dir.each_child(path) do |child|\n      if File.directory?(File.join(path, child))\n        watch(File.join(path, child))\n      end\n    end\n  end\nelse\n  @watch_list[wd] = WatchInfo.new(wd, path, false, mask)\nend\n"}},{"id":"watching:Array(String)-instance-method","html_id":"watching:Array(String)-instance-method","name":"watching","doc":"Returns all paths that are currently being watched.","summary":"<p>Returns all paths that are currently being watched.</p>","abstract":false,"args":[],"args_string":" : Array(String)","source_link":"https://github.com/petoem/inotify.cr/blob/041265946373e134add6e4a3c2801f4d5b70ba41/src/inotify/watcher.cr#L153","def":{"name":"watching","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"@watch_list.values.map(&.path)"}}],"macros":[],"types":[]}]}]}}